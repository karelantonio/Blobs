#:kivy 2.3.1

# The overview widget
<OverviewScreen@MDScreen>:
    BoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            type: 'small'
            pos_hint: {"center_x": .5, "center_y": .5}

            MDTopAppBarLeadingButtonContainer:
                MDActionTopAppBarButton:
                    on_release: root.manager.current = 'start'
                    icon: 'arrow-left'

            MDTopAppBarTitle:
                text: "Event list"
                halign: 'center'

            MDTopAppBarTrailingButtonContainer:
                MDActionTopAppBarButton:
                    on_release: root.manager.current = 'new_event'
                    icon: 'plus'
        # ^^^ end of the Top Bar

        MDDivider:
            size_hint_y: None
        
        MDRecycleView:
            id: events_rv
            do_scroll_x: False
            do_scroll_y: True
            viewclass: 'EventItem'

            RecycleBoxLayout:
                default_size_hint: 1, None
                default_size: None, dp(80)
                size_hint_y: None
                height: self.minimum_height
                orientation: 'vertical'

<EventItem>:
    orientation: 'horizontal'

    FitImage:
        size_hint: None, 1
        source: root.icon

    Widget:
        size_hint: None, None
        width: dp(8)

    MDBoxLayout:
        orientation: 'vertical'

        MDLabel:
            font_style: 'Title'
            text: root.name

        MDLabel:
            text: f'{root.start} until {root.end} ({root.duration})'
